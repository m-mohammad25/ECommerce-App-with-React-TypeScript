import{r as m,u as $,c as g,j as t,f as b,d as P,H as y,E as M}from"./index-Bq_BoyWd.js";import{H as w}from"./style-qmAhOpjk.js";import"./style-C5DDRcX9.js";import{M as h,a as H,L as D}from"./CartItem-DbBHhHpk.js";import"./Row-190GaXY8.js";import"./Button-eU2eWRp9.js";import"./Button-DpFDe-S0.js";import"./Spinner-DopUcn5i.js";import"./CloseButton-Bs2BFsBN.js";import"./useEventCallback-DstjGGbJ.js";import"./AbstractModalHeader-BaLqk6x0.js";import"./DataKey-COGXBUcQ.js";const O=m.forwardRef(({bsPrefix:r,className:n,striped:o,bordered:d,borderless:l,hover:c,size:a,variant:e,responsive:u,...x},i)=>{const s=$(r,"table"),j=g(n,s,e&&`${s}-${e}`,a&&`${s}-${a}`,o&&`${s}-${typeof o=="string"?`striped-${o}`:"striped"}`,d&&`${s}-bordered`,l&&`${s}-borderless`,c&&`${s}-hover`),p=t.jsx("table",{...x,className:j,ref:i});if(u){let f=`${s}-responsive`;return typeof u=="string"&&(f=`${f}-${u}`),t.jsx("div",{className:f,children:p})}return p});function B(){const r=b(),{loading:n,error:o,orderList:d}=P(i=>i.orders),[l,c]=m.useState(!1),[a,e]=m.useState([]),u=i=>{const s=d.find(p=>p.id===i),j=(s==null?void 0:s.items)||[];e(j),c(!0)},x=()=>{c(!1),e([])};return m.useEffect(()=>{const i=r(y());return()=>{i.abort(),r(M())}},[r]),{loading:n,error:o,showModal:l,orderList:d,selectedProduct:a,viewProductsDetails:u,closeModalHandler:x}}function F(){const{loading:r,error:n,showModal:o,orderList:d,selectedProduct:l,viewProductsDetails:c,closeModalHandler:a}=B();return t.jsxs(t.Fragment,{children:[t.jsxs(h,{show:o,onHide:a,children:[t.jsx(h.Header,{closeButton:!0,children:t.jsx(h.Title,{children:"Products Details"})}),t.jsx(h.Body,{children:l.map(e=>t.jsx(H,{title:e.title,img:e.img,price:e.price,quantity:e.quantity,direction:"column",style:{marginBottom:"10px"}},e.id))})]}),t.jsx(w,{title:"My Orders"}),t.jsx(D,{status:r,error:n,type:"table",children:t.jsxs(O,{striped:!0,bordered:!0,hover:!0,children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Order Number"}),t.jsx("th",{children:"Items"}),t.jsx("th",{children:"Total Price"})]})}),t.jsx("tbody",{children:d.map(e=>t.jsxs("tr",{children:[t.jsxs("td",{children:["#",e.id]}),t.jsxs("td",{children:[e.items.length," / ",t.jsx("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>c(e.id),children:"Products Details"})]}),t.jsxs("td",{children:[e.total,"$"]})]},e.id))})]})})]})}export{F as default};
