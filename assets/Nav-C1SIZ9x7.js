import{d as N,a as B,q as L}from"./DataKey-COGXBUcQ.js";import{r,j as g}from"./index-Bq_BoyWd.js";import{u as _,a as $}from"./useEventCallback-DstjGGbJ.js";import{B as U}from"./Button-DpFDe-S0.js";function W(){const[,e]=r.useReducer(n=>!n,!1);return e}const I=r.createContext(null),S=(e,n=null)=>e!=null?String(e):n||null,w=r.createContext(null);w.displayName="NavContext";const A=r.createContext(null),F=["as","active","eventKey"];function M(e,n){if(e==null)return{};var l={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;l[t]=e[t]}return l}function V({key:e,onClick:n,active:l,id:t,role:v,disabled:s}){const f=r.useContext(I),u=r.useContext(w),x=r.useContext(A);let d=l;const o={role:v};if(u){!v&&u.role==="tablist"&&(o.role="tab");const c=u.getControllerId(e??null),C=u.getControlledId(e??null);o[N("event-key")]=e,o.id=c||t,d=l==null&&e!=null?u.activeKey===e:l,(d||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(o["aria-controls"]=C)}return o.role==="tab"&&(o["aria-selected"]=d,d||(o.tabIndex=-1),s&&(o.tabIndex=-1,o["aria-disabled"]=!0)),o.onClick=_(c=>{s||(n==null||n(c),e!=null&&f&&!c.isPropagationStopped()&&f(e,c))}),[o,{isActive:d}]}const P=r.forwardRef((e,n)=>{let{as:l=U,active:t,eventKey:v}=e,s=M(e,F);const[f,u]=V(Object.assign({key:S(v,s.href),active:t},s));return f[N("active")]=u.isActive,g.jsx(l,Object.assign({},s,f,{ref:n}))});P.displayName="NavItem";const Y=["as","onSelect","activeKey","role","onKeyDown"];function z(e,n){if(e==null)return{};var l={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;l[t]=e[t]}return l}const E=()=>{},R=N("event-key"),D=r.forwardRef((e,n)=>{let{as:l="div",onSelect:t,activeKey:v,role:s,onKeyDown:f}=e,u=z(e,Y);const x=W(),d=r.useRef(!1),o=r.useContext(I),c=r.useContext(A);let C,y;c&&(s=s||"tablist",v=c.activeKey,C=c.getControlledId,y=c.getControllerId);const m=r.useRef(null),K=a=>{const i=m.current;if(!i)return null;const b=L(i,`[${R}]:not([aria-disabled=true])`),h=i.querySelector("[aria-selected=true]");if(!h||h!==document.activeElement)return null;const j=b.indexOf(h);if(j===-1)return null;let p=j+a;return p>=b.length&&(p=0),p<0&&(p=b.length-1),b[p]},O=(a,i)=>{a!=null&&(t==null||t(a,i),o==null||o(a,i))},T=a=>{if(f==null||f(a),!c)return;let i;switch(a.key){case"ArrowLeft":case"ArrowUp":i=K(-1);break;case"ArrowRight":case"ArrowDown":i=K(1);break;default:return}i&&(a.preventDefault(),O(i.dataset[B("EventKey")]||null,a),d.current=!0,x())};r.useEffect(()=>{if(m.current&&d.current){const a=m.current.querySelector(`[${R}][aria-selected=true]`);a==null||a.focus()}d.current=!1});const q=$(n,m);return g.jsx(I.Provider,{value:O,children:g.jsx(w.Provider,{value:{role:s,activeKey:S(v),getControlledId:C||E,getControllerId:y||E},children:g.jsx(l,Object.assign({},u,{onKeyDown:T,ref:q,role:s}))})})});D.displayName="Nav";const X=Object.assign(D,{Item:P});export{X as B,w as N,I as S,V as a,S as m,W as u};
