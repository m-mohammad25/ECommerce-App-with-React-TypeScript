import{r as o,j as h,G as Ce}from"./index-DkyQ6Cv1.js";import{h as U,o as ce,s as y,u as E,f as X,l as ne,C as ye}from"./CloseButton-Bc0_QhMe.js";function st(){return o.useState(null)}function Oe(){const e=o.useRef(!0),t=o.useRef(()=>e.current);return o.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function we(e){const t=o.useRef(null);return o.useEffect(()=>{t.current=e}),t.current}const ke=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Me=typeof document<"u",re=Me||ke?o.useLayoutEffect:o.useEffect;function je(e){const t=o.useRef(e);return t.current=e,t}function Ae(e){const t=je(e);o.useEffect(()=>()=>t.current(),[])}var Le=Function.prototype.bind.call(Function.prototype.call,[].slice);function x(e,t){return Le(e.querySelectorAll(t))}function oe(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Ne="data-rr-ui-",Be="rrUi";function Se(e){return`${Ne}${e}`}function it(e){return`${Be}${e}`}const ue=o.createContext(U?window:void 0);ue.Provider;function Y(){return o.useContext(ue)}function $(e){e===void 0&&(e=ce());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function De(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const se=Se("modal-open");class q{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return De(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[r]:s.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(y(s,r)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(se,""),y(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(se),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const K=(e,t)=>U?e==null?(t||ce()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Fe(e,t){const n=Y(),[r,s]=o.useState(()=>K(e,n==null?void 0:n.document));if(!r){const i=K(e);i&&s(i)}return o.useEffect(()=>{},[t,r]),o.useEffect(()=>{const i=K(e);i!==r&&s(i)},[e,r]),r}function Pe({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=o.useRef(null),l=o.useRef(t),d=E(n);o.useEffect(()=>{t?l.current=!0:d(i.current)},[t,d]);const f=X(i,e.ref),c=o.cloneElement(e,{ref:f});return t?c:s||!l.current&&r?null:c}function We(e){return e.code==="Escape"||e.keyCode===27}function Ie(){const e=o.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const _e=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Ge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $e(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:l,addEndListener:d,children:f}=e,c=Ge(e,_e);const{major:m}=Ie(),C=m>=19?f.props.ref:f.ref,p=o.useRef(null),O=X(p,typeof f=="function"?null:C),g=v=>R=>{v&&p.current&&v(p.current,R)},A=o.useCallback(g(t),[t]),L=o.useCallback(g(n),[n]),N=o.useCallback(g(r),[r]),B=o.useCallback(g(s),[s]),w=o.useCallback(g(i),[i]),S=o.useCallback(g(l),[l]),D=o.useCallback(g(d),[d]);return Object.assign({},c,{nodeRef:p},t&&{onEnter:A},n&&{onEntering:L},r&&{onEntered:N},s&&{onExit:B},i&&{onExiting:w},l&&{onExited:S},d&&{addEndListener:D},{children:typeof f=="function"?(v,R)=>f(v,Object.assign({},R,{ref:O})):o.cloneElement(f,{ref:O})})}const Ke=["component"];function Ve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const He=o.forwardRef((e,t)=>{let{component:n}=e,r=Ve(e,Ke);const s=$e(r);return h.jsx(n,Object.assign({ref:t},s))});function Ue({in:e,onTransition:t}){const n=o.useRef(null),r=o.useRef(!0),s=E(t);return re(()=>{if(!n.current)return;let i=!1;return s({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,s]),re(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Xe({children:e,in:t,onExited:n,onEntered:r,transition:s}){const[i,l]=o.useState(!t);t&&i&&l(!1);const d=Ue({in:!!t,onTransition:c=>{const m=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(l(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(m,C=>{throw c.in||l(!0),C})}}),f=X(d,e.ref);return i&&!t?null:o.cloneElement(e,{ref:f})}function ie(e,t,n){return e?h.jsx(He,Object.assign({},n,{component:e})):t?h.jsx(Xe,Object.assign({},n,{transition:t})):h.jsx(Pe,Object.assign({},n))}const Ye=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let V;function ze(e){return V||(V=new q({ownerDocument:e==null?void 0:e.document})),V}function Je(e){const t=Y(),n=e||ze(t),r=o.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:o.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:o.useCallback(s=>{r.current.backdrop=s},[])})}const le=o.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:l,backdrop:d=!0,keyboard:f=!0,onBackdropClick:c,onEscapeKeyDown:m,transition:C,runTransition:p,backdropTransition:O,runBackdropTransition:g,autoFocus:A=!0,enforceFocus:L=!0,restoreFocus:N=!0,restoreFocusOptions:B,renderDialog:w,renderBackdrop:S=a=>h.jsx("div",Object.assign({},a)),manager:D,container:v,onShow:R,onHide:z=()=>{},onExit:de,onExited:J,onExiting:fe,onEnter:he,onEntering:ge,onEntered:Ee}=e,me=qe(e,Ye);const b=Y(),k=Fe(v),u=Je(D),pe=Oe(),ve=we(n),[F,Q]=o.useState(!n),M=o.useRef(null);o.useImperativeHandle(t,()=>u,[u]),U&&!ve&&n&&(M.current=$(b==null?void 0:b.document)),n&&F&&Q(!1);const Z=E(()=>{if(u.add(),I.current=ne(document,"keydown",xe),W.current=ne(document,"focus",()=>setTimeout(Re),!0),R&&R(),A){var a,te;const G=$((a=(te=u.dialog)==null?void 0:te.ownerDocument)!=null?a:b==null?void 0:b.document);u.dialog&&G&&!oe(u.dialog,G)&&(M.current=G,u.dialog.focus())}}),P=E(()=>{if(u.remove(),I.current==null||I.current(),W.current==null||W.current(),N){var a;(a=M.current)==null||a.focus==null||a.focus(B),M.current=null}});o.useEffect(()=>{!n||!k||Z()},[n,k,Z]),o.useEffect(()=>{F&&P()},[F,P]),Ae(()=>{P()});const Re=E(()=>{if(!L||!pe()||!u.isTopModal())return;const a=$(b==null?void 0:b.document);u.dialog&&a&&!oe(u.dialog,a)&&u.dialog.focus()}),be=E(a=>{a.target===a.currentTarget&&(c==null||c(a),d===!0&&z())}),xe=E(a=>{f&&We(a)&&u.isTopModal()&&(m==null||m(a),a.defaultPrevented||z())}),W=o.useRef(),I=o.useRef(),Te=(...a)=>{Q(!0),J==null||J(...a)};if(!k)return null;const ee=Object.assign({role:r,ref:u.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:i,className:s,tabIndex:-1});let _=w?w(ee):h.jsx("div",Object.assign({},ee,{children:o.cloneElement(l,{role:"document"})}));_=ie(C,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:de,onExiting:fe,onExited:Te,onEnter:he,onEntering:ge,onEntered:Ee,children:_});let j=null;return d&&(j=S({ref:u.setBackdropRef,onClick:be}),j=ie(O,g,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:j})),h.jsx(h.Fragment,{children:Ce.createPortal(h.jsxs(h.Fragment,{children:[j,_]}),k)})});le.displayName="Modal";const at=Object.assign(le,{Manager:q});function Qe(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ze(e,t){e.classList?e.classList.add(t):Qe(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function ae(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function et(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ae(e.className,t):e.setAttribute("class",ae(e.className&&e.className.baseVal||"",t))}const T={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class tt extends q{adjustAndStore(t,n,r){const s=n.style[t];n.dataset[t]=s,y(n,{[t]:`${parseFloat(y(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],y(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Ze(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";x(n,T.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),x(n,T.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-t.scrollBarWidth)),x(n,T.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();et(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";x(n,T.FIXED_CONTENT).forEach(i=>this.restore(r,i)),x(n,T.STICKY_CONTENT).forEach(i=>this.restore(s,i)),x(n,T.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let H;function ct(e){return H||(H=new tt(e)),H}const nt=o.createContext({onHide(){}}),ut=o.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:s,...i},l)=>{const d=o.useContext(nt),f=E(()=>{d==null||d.onHide(),r==null||r()});return h.jsxs("div",{ref:l,...i,children:[s,n&&h.jsx(ye,{"aria-label":e,variant:t,onClick:f})]})});export{ut as A,at as B,nt as M,st as a,Y as b,oe as c,Se as d,we as e,re as f,it as g,tt as h,ct as i,Ae as j,x as q,Oe as u};
